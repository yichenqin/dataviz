---
title: "Ch9 Spatial Data Visualization"
subtitle: "Descriptive Analytics and Data Visualization"
author: "Yichen Qin (qinyn@ucmail.uc.edu), University of Cincinnati"
date: "`r Sys.Date()`"
output: 
  html_document:
    number_sections: true
    code_folding: "show"
    toc: true
bibliography: [book.bib, packages.bib]
biblio-style: apalike
link-citations: yes
---


# Spatial Data Visualization {-}

In this chapter, we discuss spatial data visualization techniques.
Spatial data contains measurements of various geographical locations, areas, path, and etc. 
Therefore, its visualizations are often based on maps.
In this chapter, we will go over a few typical map visualizations.
To generate these visualizations, we need the following R packages.

```{r, warning=FALSE, message=FALSE}
library(tidyverse)
library(ggmap) # devtools::install_github("dkahle/ggmap")
library(RColorBrewer)
library(statebins)
library(viridis)
library(viridisLite)
library(geofacet) # takes long time to install. may ask for library(rgeos)
library(geosphere)
library(grid)
library(gridExtra)
#For windows OS, you may need to install Rtools from: https://cran.r-project.org/bin/windows/Rtools/rtools40.html
```

# Instructions on Setting Google Cloud Platform to Use ggmap

In order to use ggmap to generate map visualizaiton, we need to set up the Google Cloud Platform properly.
We explain the setup of the Google Cloud Platform in

```{r, echo=FALSE, out.width = "90%"}
knitr::include_graphics("images/google_platform/step1.PNG")
```

```{r, echo=FALSE, out.width = "90%"}
knitr::include_graphics("images/google_platform/step2.PNG")
```

```{r, echo=FALSE, out.width = "90%"}
knitr::include_graphics("images/google_platform/step3.PNG")
```

```{r, echo=FALSE, out.width = "90%"}
knitr::include_graphics("images/google_platform/step4.PNG")
```

```{r, echo=FALSE, out.width = "90%"}
knitr::include_graphics("images/google_platform/step5.PNG")
```

```{r, echo=FALSE, out.width = "90%"}
knitr::include_graphics("images/google_platform/step6.PNG")
```

```{r, echo=FALSE, out.width = "90%"}
knitr::include_graphics("images/google_platform/step7.PNG")
```

```{r, echo=FALSE, out.width = "90%"}
knitr::include_graphics("images/google_platform/step8.PNG")
```

```{r, echo=FALSE, out.width = "90%"}
knitr::include_graphics("images/google_platform/step9.PNG")
```

```{r, echo=FALSE, out.width = "90%"}
knitr::include_graphics("images/google_platform/step10.PNG")
```

```{r, echo=FALSE, out.width = "90%"}
knitr::include_graphics("images/google_platform/step11.PNG")
```

```{r, echo=FALSE, out.width = "90%"}
knitr::include_graphics("images/google_platform/step12.PNG")
```

```{r, echo=FALSE, out.width = "90%"}
knitr::include_graphics("images/google_platform/step13.PNG")
```

```{r, echo=FALSE, out.width = "90%"}
knitr::include_graphics("images/google_platform/step14.PNG")
```

```{r, echo=FALSE, out.width = "90%"}
knitr::include_graphics("images/google_platform/step15.PNG")
```

```{r, echo=FALSE, out.width = "90%"}
knitr::include_graphics("images/google_platform/step16.PNG")
```

```{r, echo=FALSE, out.width = "90%"}
knitr::include_graphics("images/google_platform/step17.PNG")
```

```{r, echo=FALSE, out.width = "90%"}
knitr::include_graphics("images/google_platform/step18.PNG")
```

```{r}
library(ggmap)
ggmap::register_google(key = "AIzaSyDg3Lt5Mof5kGMv5cFet6qGLE5SNG6yvs4")
geocode('Univerisity of Cincinnati',output = 'more')
UClayer_goo_ter <- get_map(location = "University of Cincinnati", zoom = 15, 
                           source = "google", maptype = "terrain")
ggmap(UClayer_goo_ter,extent = 'device') + ggtitle("Google Maps Terrain") 
```

